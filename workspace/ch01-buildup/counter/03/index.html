<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Counter</title>
  </head>
  <body>
    <!-- <div id="app">
      <header>
        <h1>Counter - JS로 UI 구성</h1>
        <p>파일 경로: <span id="filepath"></span></p>
      </header>
      <div id="counter">
        <button type="button" onclick="handleDown()">-</button>
        <button type="button" onclick="handleReset(event)">0</button>
        <button type="button" onclick="handleUp()">+</button>
        <span>0</span>
      </div>
    </div> -->

    <div id="root"></div>

    <script type="module">
      // module은 defer 속성을 지정한 것처럼 지연 실행됨
      // HTML 파싱을 멈추지 않고, HTML 파이싱이 끝난 이후에 실행됨
      // module 끼리는 선언한 순서대로 실행됨
      import yong from './yong.js';

      const h1 = yong.createElement(
        'h1',
        null,
        'Counter - createElement() 라이브러리 사용'
      );
      const p = yong.createElement(
        'p',
        null,
        '파일경로: ',
        yong.createElement('span', {id: 'filepath'})
      );
      const downBtn = yong.createElement(
        'button',
        {type: 'button', onclick: 'handleDown()'},
        '-'
      );
      const resetBtn = yong.createElement(
        'button',
        {type: 'button', onclick: 'handleReset(event)'},
        '0'
      );
      const upBtn = yong.createElement(
        'button',
        {type: 'button', onclick: 'handleUp()'},
        '+'
      );
      const span = yong.createElement('span', null, '0');
      const header = yong.createElement('header', null, h1, p);
      const counter = yong.createElement(
        'div',
        {id: 'counter'},
        downBtn,
        resetBtn,
        upBtn,
        span
      );
      const app = yong.createElement('div', {id: 'app'}, header, counter);

      document.getElementById('root').appendChild(app);

      document.querySelector('#filepath').textContent = `ch${
        document.URL.split('/ch')[1]
      }index.html`;
    </script>

    <script type="text/javascript">
      let count = 0;

      const handleDown = () => {
        // 데이터 갱신
        count--;

        // 화면 갱신
        const counterSpan = document.querySelector('#counter > span');
        counterSpan.textContent = count;
      };
      const handleUp = () => {
        // 데이터 갱신
        count++;

        // 화면 갱신
        const counterSpan = document.querySelector('#counter > span');
        counterSpan.textContent = count;
      };
      const handleReset = (event) => {
        // 데이터 갱신
        count = 0;

        // 화면 갱신
        const counterSpan = document.querySelector('#counter > span');
        counterSpan.textContent = count;
      };
    </script>
  </body>
</html>
